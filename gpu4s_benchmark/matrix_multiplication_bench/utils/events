#!/bin/bash

cd ../bin
#./matrix_multiplication_cuda_int_256 20 -s 100 cuda:::gpc__cycles_in_region.sum.per_cycle_in_region:device=0 cuda:::dram__bytes_read.min.peak_burst_region:device=0 cuda:::dram__bytes_read.max.per_cycle_in_frame:device=0 cuda:::dram__bytes.avg:device=0 cuda:::fbpa__cycles_in_frame.min:device=0 cuda:::fbpa__cycles_in_frame.min.pct_of_peak_burst_active:device=0 cuda:::fbpa__cycles_in_frame.min.pct_of_peak_burst_elapsed:device=0 cuda:::fbpa__cycles_in_frame.min.pct_of_peak_burst_frame:device=0 cuda:::fbpa__cycles_in_frame.min.pct_of_peak_burst_region:device=0 cuda:::fbpa__cycles_in_frame.min.pct_of_peak_sustained_active:device=0 cuda:::gpc__cycles_active.avg:device=0 cuda:::gpc__cycles_active.avg.pct_of_peak_burst_active:device=0 cuda:::gpc__cycles_active.avg.pct_of_peak_burst_elapsed:device=0 cuda:::gpc__cycles_active.avg.pct_of_peak_burst_frame:device=0 cuda:::gpc__cycles_active.avg.pct_of_peak_burst_region:device=0 cuda:::gpc__cycles_active.avg.pct_of_peak_sustained_active:device=0 cuda:::gpc__cycles_active.avg.pct_of_peak_sustained_elapsed:device=0 cuda:::gpc__cycles_active.avg.pct_of_peak_sustained_frame:device=0 cuda:::gpc__cycles_active.avg:device=0 cuda:::gpc__cycles_active.avg.pct_of_peak_burst_active:device=0 cuda:::gpc__cycles_active.avg.pct_of_peak_burst_elapsed:device=0 cuda:::gpc__cycles_active.avg.pct_of_peak_burst_frame:device=0 cuda:::gpc__cycles_active.avg.pct_of_peak_burst_region:device=0 cuda:::gpc__cycles_active.avg.pct_of_peak_sustained_active:device=0 cuda:::gpc__cycles_active.avg.pct_of_peak_sustained_elapsed:device=0 cuda:::gpc__cycles_active.avg.pct_of_peak_sustained_frame:device=0 2> $1 

./matrix_multiplication_cuda_int_256 10 -s 100 cuda:::dram__bytes_read.max.per_cycle_in_frame:device=0 cuda:::dram__bytes.avg:device=0 cuda:::fbpa__cycles_in_frame.min.pct_of_peak_burst_frame:device=0 cuda:::fbpa__cycles_in_frame.min.pct_of_peak_sustained_active:device=0 cuda:::gpc__cycles_active.avg:device=0  cuda:::gpc__cycles_active.avg.pct_of_peak_burst_active:device=0 cuda:::gpc__cycles_active.avg.pct_of_peak_burst_elapsed:device=0 cuda:::gpc__cycles_active.avg.pct_of_peak_burst_region:device=0 cuda:::gpc__cycles_active.avg.pct_of_peak_sustained_active:device=0 cuda:::tpc__average_registers_per_thread.max_rate:device=0 2> $1

cd ../utils
#2> golden_runs/golden_run$1.out
